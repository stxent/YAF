choice
	prompt "Target architecture"
	default TARGET_X86

	config TARGET_X86
		bool "x86"

	config TARGET_X86_64
		bool "x86-64"

	config TARGET_CORTEX_M0
		bool "ARM Cortex-M0"

	config TARGET_CORTEX_M3
		bool "ARM Cortex-M3"

	config TARGET_CORTEX_M4
		bool "ARM Cortex-M4"
endchoice

config TARGET
	string
	default "X86"       if TARGET_X86
	default "X86-64"    if TARGET_X86_64
	default "CORTEX-M0" if TARGET_CORTEX_M0
	default "CORTEX-M3" if TARGET_CORTEX_M3
	default "CORTEX-M4" if TARGET_CORTEX_M4

menu "Filesystem options"

config OVERRIDE_LENGTH
	bool "Override default filename length"

config FILENAME_LENGTH
	int "Maximum filename length"
	default 64
	depends on OVERRIDE_LENGTH

config FAT_SECTOR
	int "Sector size"
	default 9
	help
	  Size of a filesystem sector may be 512, 1024, 2048 or 4096 bytes,
	  default is 512. Size is configured as an exponent of the value.

config FAT_POOLS
	bool "Object pools"
	help
	  Build driver with statically allocated buffers.

config FAT_THREADS
	bool "Multithreading"
	help
	  Enable multithreading.

config FAT_TIME
	bool "Time functions"
	help
	  Build driver with time functions enabled.

config FAT_UNICODE
	bool "Unicode support"
	help
	  Enable support for Unicode characters.

config FAT_WRITE
	bool "Write support"
	help
	  Enable write functions.

endmenu

menu "Build options"

choice
	prompt "Optimization level"
	default OPTIMIZATIONS_DISABLED

	config OPTIMIZATIONS_DISABLED
		bool "None"

	config OPTIMIZATIONS_SIZE
		bool "Size"

	config OPTIMIZATIONS_FULL
	  bool "Full"
endchoice

endmenu

config OPTIMIZATIONS
	string
	default "none" if OPTIMIZATIONS_DISABLED
	default "size" if OPTIMIZATIONS_SIZE
	default "full" if OPTIMIZATIONS_FULL

menu "Debug options"
	depends on TARGET_X86 || TARGET_X86_64

config DEBUG
	bool "Debug messages"

config DEBUG_LEVEL
	int "Debug level"
	default 0
	depends on DEBUG

config MMI_STATUS
	bool "Interface status"
	depends on SHELL

config SHELL_BUFFER
	int "Shell buffer size"
	default 1024
	depends on SHELL

endmenu

menu "Examples"

config LIBSHELL
	bool "Build shell library"

config SHELL
	bool "Build shell example"
	depends on (TARGET_X86 || TARGET_X86_64) && LIBSHELL

endmenu
